#version 330 core

////////////////////////////////////////////////////////////////
// Inputs
////////////////////////////////////////////////////////////////

// Attributes
layout(location = 0) in vec3 in_position;

// Uniforms
uniform mat4 u_viewMatrix;
uniform mat4 u_mvpMatrix;
uniform mat4 u_modelViewMatrix;


////////////////////////////////////////////////////////////////
// Outputs
////////////////////////////////////////////////////////////////

// Varying
out Varying
{
	vec4 out_worldPosition;
	vec4 out_viewPosition;
};

////////////////////////////////////////////////////////////////
// MAIN
////////////////////////////////////////////////////////////////
void main(void)
{
	vec4 worldPos = vec4(in_position, 1.0f);
	vec4 viewPos = u_modelViewMatrix * worldPos;
	vec4 screenPos = u_mvpMatrix * worldPos;
	
	// Output
	{
		out_worldPosition = worldPos;
		out_viewPosition = viewPos;
		gl_Position = screenPos;
	}
} 